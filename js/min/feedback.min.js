function inArray(e,t){for(var n=t.length,i=0;n>i;i++)if("object"==typeof t[i]){if(arrayCompare(t[i],e))return!0}else if(t[i]==e)return!0;return!1}function myconf(){var e=$.Deferred();return $.ajax({type:"POST",url:"feedback/",dataType:"json",data:"act=cfg",success:function(t){e.resolve(t.configs)}}),e}window.isset=function(e){if("object"==typeof e&&"undefined"==e)return!1;if(0===arguments.length)return!1;for(var t=arguments[0],n=0;n<arguments.length;n++){if("undefined"==typeof t||null===t)return!1;t=t[arguments[n+1]]}return!0};var mcf=myconf();mcf.done(function(e){function t(t){var n=$(t.form).find(".feedback"),i=(n.clone(),n.val(),e[t.act].cfg);$.ajax({type:"POST",url:"feedback/",cache:!1,dataType:"json",data:"act="+t.act+"&"+t.data,beforeSend:function(){$(n).prop("disabled",!0),$(n).addClass("loading")},success:function(e){if(isset(i.notify)&&!/none/i.test(i.notify)&&(/textbox/i.test(i.notify)&&(isset(e.errors)&&$.each(e.errors,function(e,t){$.jGrowl(t,{theme:"error",header:"Ошибка!",life:3e3})}),isset(e.infos)&&$.each(e.infos,function(e,t){$.jGrowl(t,{theme:"infos",header:"Внимание!",life:3e3})})),/color/i.test(i.notify)&&($(t.form).find("input[type=text]:visible, textarea:visible, select:visible").css({border:"1px solid #D7D5CF"},300),isset(e.errors)&&$.each(e.errors,function(e){var n=/[a-z]/i;if(n.test(e)){var i=$(t.form).find("[name="+e+"]");1==i.length&&$(i).css({border:"1px solid #FF532E"},100)}}),isset(e.infos)))){var r="",s=$("<ul>",{id:"feedback-infolist"});$.each(e.infos,function(e,t){r+="<li>"+t+"</li>"}),s.html(r),$.arcticmodal("close"),/modal/i.test(i.notify)}$(n).prop("disabled",!1),$(n).removeClass("loading"),isset(e.ok)&&1==e.ok&&$(t.form)[0].reset()}})}$(document).ready(function(){!function(){var t=$(".feedback");t.length>0&&t.each(function(){var t=$(this).closest("form"),n=t.attr("name");isset(e[n])&&isset(e[n].cfg.antispamjs)&&$(t).prepend('<input type="text" name="'+e[n].cfg.antispamjs+'" value="tesby" style="display:none;">')})}()}),$(document).on("mouseenter mouseover",".feedback",function(){var t=$(this).closest("form"),n=t.attr("name");isset(e[n])&&isset(e[n].cfg.antispamjs)&&$("input[name="+e[n].cfg.antispamjs+"]").val("")}),$(document).on("click",".feedback",function(){var e=$(this).closest("form"),n=e.attr("name"),i={};return i.form=e,i.act=n,i.data=$(e).serialize(),t(i),!1})});